package com.example.mybatis.Test;


import org.json.JSONArray;
import org.json.JSONException;

import java.math.BigDecimal;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class JsonTest {

    private final static  String json = "[[\"2019-04-18T03:38:00.000Z\",\"5241\",\"5241.4\",\"5239.5\",\"5240.5\",\"25.25898496\"],[\"2019-04-18T03:39:00.000Z\",\"5240.2\",\"5240.9\",\"5239\",\"5239.7\",\"5.95787066\"],[\"2019-04-18T03:40:00.000Z\",\"5239.7\",\"5241.1\",\"5239.7\",\"5240.9\",\"60.30340036\"],[\"2019-04-18T03:41:00.000Z\",\"5240.9\",\"5241.2\",\"5240.2\",\"5241\",\"72.69774464\"],[\"2019-04-18T03:42:00.000Z\",\"5241\",\"5241.4\",\"5240\",\"5240.7\",\"40.38496629\"],[\"2019-04-18T03:43:00.000Z\",\"5240.7\",\"5240.7\",\"5238.3\",\"5240\",\"87.90072152\"],[\"2019-04-18T03:44:00.000Z\",\"5240\",\"5249.9\",\"5240\",\"5247\",\"70.87101629\"],[\"2019-04-18T03:45:00.000Z\",\"5247\",\"5250.3\",\"5246.2\",\"5249.1\",\"115.77313169\"],[\"2019-04-18T03:46:00.000Z\",\"5249.6\",\"5250.6\",\"5248\",\"5248.4\",\"55.35414109\"],[\"2019-04-18T03:47:00.000Z\",\"5249.1\",\"5250.5\",\"5248.1\",\"5249.2\",\"40.33767617\"],[\"2019-04-18T03:48:00.000Z\",\"5249.2\",\"5253\",\"5249.2\",\"5250.7\",\"26.0730876\"],[\"2019-04-18T03:49:00.000Z\",\"5250.5\",\"5251.1\",\"5246.9\",\"5249.1\",\"114.79100726\"],[\"2019-04-18T03:50:00.000Z\",\"5247.9\",\"5249.6\",\"5246.9\",\"5248.1\",\"103.21856865\"],[\"2019-04-18T03:51:00.000Z\",\"5248.3\",\"5251.8\",\"5248.3\",\"5251.4\",\"23.86907026\"],[\"2019-04-18T03:52:00.000Z\",\"5251.5\",\"5253.1\",\"5250.3\",\"5250.8\",\"87.84660104\"],[\"2019-04-18T03:53:00.000Z\",\"5250.8\",\"5251.4\",\"5244.8\",\"5245.6\",\"40.01043677\"],[\"2019-04-18T03:54:00.000Z\",\"5245.7\",\"5246.4\",\"5242.4\",\"5246\",\"87.16095682\"],[\"2019-04-18T03:55:00.000Z\",\"5245.1\",\"5248.9\",\"5245.1\",\"5248.3\",\"47.26818244\"],[\"2019-04-18T03:56:00.000Z\",\"5248.4\",\"5249.9\",\"5246.3\",\"5246.3\",\"33.7776144\"],[\"2019-04-18T03:57:00.000Z\",\"5246.6\",\"5248.8\",\"5244.7\",\"5246.1\",\"51.6062938\"],[\"2019-04-18T03:58:00.000Z\",\"5246\",\"5247.8\",\"5244.7\",\"5246.8\",\"61.39208511\"],[\"2019-04-18T03:59:00.000Z\",\"5246.9\",\"5248.4\",\"5246.1\",\"5247.3\",\"72.58186005\"],[\"2019-04-18T04:00:00.000Z\",\"5247.1\",\"5254.7\",\"5247.1\",\"5254.5\",\"54.36717331\"],[\"2019-04-18T04:01:00.000Z\",\"5254.6\",\"5260\",\"5253.5\",\"5259.1\",\"71.69815506\"],[\"2019-04-18T04:02:00.000Z\",\"5259.1\",\"5267\",\"5257.7\",\"5257.7\",\"166.76363916\"],[\"2019-04-18T04:03:00.000Z\",\"5257.5\",\"5262.1\",\"5252.9\",\"5261\",\"131.58586017\"],[\"2019-04-18T04:04:00.000Z\",\"5261.1\",\"5261.4\",\"5255.7\",\"5259.1\",\"106.97689499\"],[\"2019-04-18T04:05:00.000Z\",\"5259.4\",\"5264.1\",\"5257.4\",\"5262.5\",\"50.34226733\"],[\"2019-04-18T04:06:00.000Z\",\"5262.2\",\"5270.4\",\"5261.2\",\"5270\",\"112.9548381\"],[\"2019-04-18T04:07:00.000Z\",\"5270.6\",\"5271.2\",\"5262.5\",\"5262.5\",\"88.49910551\"],[\"2019-04-18T04:08:00.000Z\",\"5263.3\",\"5263.3\",\"5258.4\",\"5258.4\",\"76.75927981\"],[\"2019-04-18T04:09:00.000Z\",\"5257.8\",\"5257.8\",\"5253\",\"5254.6\",\"49.88431938\"],[\"2019-04-18T04:10:00.000Z\",\"5254.7\",\"5257.1\",\"5251.3\",\"5254.6\",\"52.0946335\"],[\"2019-04-18T04:11:00.000Z\",\"5254.4\",\"5255\",\"5248.2\",\"5249.6\",\"80.65482742\"],[\"2019-04-18T04:12:00.000Z\",\"5249.6\",\"5258.2\",\"5249.4\",\"5257.6\",\"153.01806054\"],[\"2019-04-18T04:13:00.000Z\",\"5257.6\",\"5257.6\",\"5252.6\",\"5253.1\",\"46.94756164\"],[\"2019-04-18T04:14:00.000Z\",\"5253.2\",\"5257.6\",\"5251.7\",\"5255.2\",\"85.99576969\"],[\"2019-04-18T04:15:00.000Z\",\"5255.1\",\"5258.9\",\"5254.9\",\"5258.9\",\"30.17396886\"],[\"2019-04-18T04:16:00.000Z\",\"5258.9\",\"5258.9\",\"5254.5\",\"5255.2\",\"50.9098942\"],[\"2019-04-18T04:17:00.000Z\",\"5255.2\",\"5255.6\",\"5250.3\",\"5251.2\",\"52.03642481\"],[\"2019-04-18T04:18:00.000Z\",\"5251.6\",\"5251.8\",\"5246.1\",\"5246.9\",\"73.68541526\"],[\"2019-04-18T04:19:00.000Z\",\"5247.2\",\"5247.2\",\"5242.8\",\"5244.9\",\"100.59525523\"],[\"2019-04-18T04:20:00.000Z\",\"5244.7\",\"5248.9\",\"5244\",\"5247.9\",\"49.63084736\"],[\"2019-04-18T04:21:00.000Z\",\"5248.8\",\"5249\",\"5246.4\",\"5248\",\"89.16387131\"],[\"2019-04-18T04:22:00.000Z\",\"5248.1\",\"5248.9\",\"5248.1\",\"5248.5\",\"56.45935131\"],[\"2019-04-18T04:23:00.000Z\",\"5248.5\",\"5248.5\",\"5245.2\",\"5246.4\",\"53.90970152\"],[\"2019-04-18T04:24:00.000Z\",\"5246.4\",\"5247.4\",\"5244.4\",\"5246.8\",\"37.85646963\"],[\"2019-04-18T04:25:00.000Z\",\"5247.2\",\"5249.1\",\"5246\",\"5249\",\"48.4591663\"],[\"2019-04-18T04:26:00.000Z\",\"5248.7\",\"5251.3\",\"5248.7\",\"5250.6\",\"36.41574726\"],[\"2019-04-18T04:27:00.000Z\",\"5250.2\",\"5251.6\",\"5248.8\",\"5248.8\",\"51.22309096\"],[\"2019-04-18T04:28:00.000Z\",\"5248.8\",\"5248.8\",\"5243.4\",\"5245.9\",\"121.60844893\"],[\"2019-04-18T04:29:00.000Z\",\"5246\",\"5247.5\",\"5244.8\",\"5246.4\",\"27.51504815\"],[\"2019-04-18T04:30:00.000Z\",\"5246.7\",\"5247.3\",\"5243.6\",\"5244\",\"87.25819758\"],[\"2019-04-18T04:31:00.000Z\",\"5244\",\"5244.3\",\"5243.2\",\"5243.6\",\"19.94732865\"],[\"2019-04-18T04:32:00.000Z\",\"5243.6\",\"5246\",\"5242.9\",\"5246\",\"89.3517472\"],[\"2019-04-18T04:33:00.000Z\",\"5245.7\",\"5246.4\",\"5244.1\",\"5245.6\",\"43.9122167\"],[\"2019-04-18T04:34:00.000Z\",\"5245.6\",\"5246.7\",\"5244.7\",\"5245.6\",\"28.27476352\"],[\"2019-04-18T04:35:00.000Z\",\"5245.6\",\"5247.8\",\"5244.1\",\"5245.8\",\"59.04776606\"],[\"2019-04-18T04:36:00.000Z\",\"5244.8\",\"5246.1\",\"5244\",\"5244.7\",\"38.19868009\"],[\"2019-04-18T04:37:00.000Z\",\"5244.7\",\"5248.5\",\"5244.7\",\"5246.5\",\"25.17517569\"],[\"2019-04-18T04:38:00.000Z\",\"5246.6\",\"5249.6\",\"5246.6\",\"5247.7\",\"64.33659533\"],[\"2019-04-18T04:39:00.000Z\",\"5247.7\",\"5250.1\",\"5247.2\",\"5250.1\",\"51.13594284\"],[\"2019-04-18T04:40:00.000Z\",\"5250.1\",\"5251\",\"5249\",\"5250.1\",\"58.96222673\"],[\"2019-04-18T04:41:00.000Z\",\"5250.4\",\"5251.2\",\"5249.1\",\"5250.4\",\"25.01791323\"],[\"2019-04-18T04:42:00.000Z\",\"5250.4\",\"5251.5\",\"5250.4\",\"5250.8\",\"35.60534459\"],[\"2019-04-18T04:43:00.000Z\",\"5250.8\",\"5250.8\",\"5247.7\",\"5247.7\",\"53.98505093\"],[\"2019-04-18T04:44:00.000Z\",\"5247.8\",\"5249.5\",\"5247.7\",\"5248.6\",\"34.10479709\"],[\"2019-04-18T04:45:00.000Z\",\"5248.5\",\"5250\",\"5248.2\",\"5249.7\",\"40.77177997\"],[\"2019-04-18T04:46:00.000Z\",\"5250.3\",\"5250.7\",\"5248.4\",\"5250.5\",\"19.81109006\"],[\"2019-04-18T04:47:00.000Z\",\"5250.4\",\"5251\",\"5250.1\",\"5250.7\",\"8.00614077\"],[\"2019-04-18T04:48:00.000Z\",\"5250.5\",\"5254\",\"5250.4\",\"5253.1\",\"76.14096405\"],[\"2019-04-18T04:49:00.000Z\",\"5253.3\",\"5256.1\",\"5253.1\",\"5254.5\",\"78.24127247\"],[\"2019-04-18T04:50:00.000Z\",\"5254.7\",\"5255.3\",\"5253.7\",\"5255\",\"17.98475582\"],[\"2019-04-18T04:51:00.000Z\",\"5255.4\",\"5256.5\",\"5254.9\",\"5255.7\",\"16.54450997\"],[\"2019-04-18T04:52:00.000Z\",\"5255.7\",\"5257.8\",\"5254.7\",\"5257.6\",\"55.36199834\"],[\"2019-04-18T04:53:00.000Z\",\"5257.7\",\"5258.5\",\"5256.6\",\"5256.9\",\"64.1879904\"],[\"2019-04-18T04:54:00.000Z\",\"5257.1\",\"5257.1\",\"5254.2\",\"5256.3\",\"54.69304859\"],[\"2019-04-18T04:55:00.000Z\",\"5255.9\",\"5258\",\"5255.5\",\"5256.3\",\"36.23174119\"],[\"2019-04-18T04:56:00.000Z\",\"5256.3\",\"5256.7\",\"5255.1\",\"5256.6\",\"38.78149213\"],[\"2019-04-18T04:57:00.000Z\",\"5255.7\",\"5257.1\",\"5255.5\",\"5255.8\",\"52.03739187\"],[\"2019-04-18T04:58:00.000Z\",\"5255.9\",\"5256.7\",\"5255.4\",\"5255.5\",\"22.87755135\"],[\"2019-04-18T04:59:00.000Z\",\"5255.4\",\"5255.9\",\"5255.2\",\"5255.8\",\"11.34088319\"],[\"2019-04-18T05:00:00.000Z\",\"5255.7\",\"5255.8\",\"5253.7\",\"5253.8\",\"36.11279578\"],[\"2019-04-18T05:01:00.000Z\",\"5253.9\",\"5254.3\",\"5251.2\",\"5251.4\",\"40.29735268\"],[\"2019-04-18T05:02:00.000Z\",\"5251.5\",\"5253\",\"5250\",\"5251.7\",\"26.60889453\"],[\"2019-04-18T05:03:00.000Z\",\"5251.7\",\"5251.8\",\"5250\",\"5250\",\"83.64116514\"],[\"2019-04-18T05:04:00.000Z\",\"5250\",\"5251\",\"5250\",\"5250\",\"38.06526749\"],[\"2019-04-18T05:05:00.000Z\",\"5250.1\",\"5250.2\",\"5248\",\"5248\",\"78.90461677\"],[\"2019-04-18T05:06:00.000Z\",\"5248\",\"5251.5\",\"5248\",\"5251.3\",\"50.87253261\"],[\"2019-04-18T05:07:00.000Z\",\"5251.2\",\"5251.3\",\"5248.4\",\"5249.4\",\"70.82564607\"],[\"2019-04-18T05:08:00.000Z\",\"5249.4\",\"5249.8\",\"5247.5\",\"5247.7\",\"38.672844\"],[\"2019-04-18T05:09:00.000Z\",\"5247.6\",\"5248.9\",\"5246.4\",\"5246.8\",\"40.92974135\"],[\"2019-04-18T05:10:00.000Z\",\"5247.3\",\"5247.3\",\"5243.6\",\"5244.9\",\"43.66067576\"],[\"2019-04-18T05:11:00.000Z\",\"5245\",\"5246.4\",\"5244.2\",\"5246.4\",\"46.19294779\"],[\"2019-04-18T05:12:00.000Z\",\"5246.4\",\"5252.2\",\"5245.2\",\"5248.9\",\"80.62448906\"],[\"2019-04-18T05:13:00.000Z\",\"5249.1\",\"5252.6\",\"5249.1\",\"5252.1\",\"71.36887296\"],[\"2019-04-18T05:14:00.000Z\",\"5251.7\",\"5252.7\",\"5248.6\",\"5249\",\"66.29891146\"],[\"2019-04-18T05:15:00.000Z\",\"5249.1\",\"5249.9\",\"5248.4\",\"5248.9\",\"65.340524\"],[\"2019-04-18T05:16:00.000Z\",\"5248.9\",\"5249.9\",\"5246.6\",\"5248.4\",\"30.16540033\"],[\"2019-04-18T05:17:00.000Z\",\"5248.4\",\"5253.4\",\"5247.4\",\"5252.4\",\"27.4632532\"],[\"2019-04-18T05:18:00.000Z\",\"5252.8\",\"5255.1\",\"5250.5\",\"5250.8\",\"25.63105072\"],[\"2019-04-18T05:19:00.000Z\",\"5250.9\",\"5253.4\",\"5250.6\",\"5252.4\",\"74.29135088\"],[\"2019-04-18T05:20:00.000Z\",\"5251.4\",\"5252.4\",\"5251\",\"5251\",\"87.26165537\"],[\"2019-04-18T05:21:00.000Z\",\"5250.7\",\"5251.1\",\"5248.5\",\"5250.8\",\"26.88436793\"],[\"2019-04-18T05:22:00.000Z\",\"5251\",\"5251.9\",\"5250\",\"5251.9\",\"19.37911895\"],[\"2019-04-18T05:23:00.000Z\",\"5251.5\",\"5251.8\",\"5249\",\"5249.6\",\"21.50649635\"],[\"2019-04-18T05:24:00.000Z\",\"5249.7\",\"5249.8\",\"5248.6\",\"5249.2\",\"48.39405409\"],[\"2019-04-18T05:25:00.000Z\",\"5249.3\",\"5250.7\",\"5249.1\",\"5250.7\",\"17.44439629\"],[\"2019-04-18T05:26:00.000Z\",\"5250.7\",\"5252.5\",\"5250\",\"5252.5\",\"15.62201134\"],[\"2019-04-18T05:27:00.000Z\",\"5252.6\",\"5254.8\",\"5252.6\",\"5253.8\",\"60.01907299\"],[\"2019-04-18T05:28:00.000Z\",\"5253.9\",\"5254.6\",\"5252.4\",\"5253.1\",\"35.06021403\"],[\"2019-04-18T05:29:00.000Z\",\"5253.1\",\"5253.6\",\"5251.2\",\"5252.5\",\"51.57485908\"],[\"2019-04-18T05:30:00.000Z\",\"5252.6\",\"5253.3\",\"5251.3\",\"5252.6\",\"57.14450748\"],[\"2019-04-18T05:31:00.000Z\",\"5252.1\",\"5253.8\",\"5251.1\",\"5253.1\",\"43.6525467\"],[\"2019-04-18T05:32:00.000Z\",\"5253\",\"5254.6\",\"5252.9\",\"5254.6\",\"75.24947346\"],[\"2019-04-18T05:33:00.000Z\",\"5254.6\",\"5257.3\",\"5252.1\",\"5253.8\",\"77.11439827\"],[\"2019-04-18T05:34:00.000Z\",\"5253.6\",\"5255.6\",\"5253.4\",\"5255.6\",\"73.98506026\"],[\"2019-04-18T05:35:00.000Z\",\"5254.9\",\"5255.8\",\"5253.9\",\"5255\",\"121.46254179\"],[\"2019-04-18T05:36:00.000Z\",\"5255\",\"5257\",\"5255\",\"5256.8\",\"28.59855529\"],[\"2019-04-18T05:37:00.000Z\",\"5256.9\",\"5257\",\"5255\",\"5255\",\"23.06822934\"],[\"2019-04-18T05:38:00.000Z\",\"5255\",\"5256.1\",\"5253.7\",\"5254.5\",\"23.9794178\"],[\"2019-04-18T05:39:00.000Z\",\"5253.9\",\"5254\",\"5252.7\",\"5253.2\",\"59.76993611\"],[\"2019-04-18T05:40:00.000Z\",\"5253.3\",\"5253.3\",\"5249.5\",\"5251.3\",\"43.74096576\"],[\"2019-04-18T05:41:00.000Z\",\"5250.4\",\"5251.7\",\"5248.8\",\"5250.9\",\"30.93861821\"],[\"2019-04-18T05:42:00.000Z\",\"5250.2\",\"5251.8\",\"5246.9\",\"5247.4\",\"124.87022971\"],[\"2019-04-18T05:43:00.000Z\",\"5247.4\",\"5247.4\",\"5244.8\",\"5246.3\",\"78.75198596\"],[\"2019-04-18T05:44:00.000Z\",\"5245.8\",\"5251.3\",\"5245.2\",\"5251\",\"31.73419779\"],[\"2019-04-18T05:45:00.000Z\",\"5251.5\",\"5252.3\",\"5249.7\",\"5250.9\",\"79.86120091\"],[\"2019-04-18T05:46:00.000Z\",\"5250.9\",\"5251.4\",\"5249.8\",\"5250.5\",\"49.84876791\"],[\"2019-04-18T05:47:00.000Z\",\"5250.5\",\"5250.7\",\"5245.7\",\"5248.3\",\"30.83548986\"],[\"2019-04-18T05:48:00.000Z\",\"5246.8\",\"5248.7\",\"5245.7\",\"5247.1\",\"47.10586861\"],[\"2019-04-18T05:49:00.000Z\",\"5245.8\",\"5246.3\",\"5243.6\",\"5244.3\",\"49.88550075\"],[\"2019-04-18T05:50:00.000Z\",\"5244.2\",\"5244.8\",\"5240\",\"5242.3\",\"67.98252193\"],[\"2019-04-18T05:51:00.000Z\",\"5242.4\",\"5243.2\",\"5240.4\",\"5242.4\",\"46.60616195\"],[\"2019-04-18T05:52:00.000Z\",\"5242\",\"5243.4\",\"5240.5\",\"5242.2\",\"34.32456017\"],[\"2019-04-18T05:53:00.000Z\",\"5241.9\",\"5245\",\"5241.9\",\"5243.1\",\"87.78486337\"],[\"2019-04-18T05:54:00.000Z\",\"5243.1\",\"5243.1\",\"5238.7\",\"5239\",\"47.71068113\"],[\"2019-04-18T05:55:00.000Z\",\"5239\",\"5243.3\",\"5238.5\",\"5242.6\",\"67.26717248\"],[\"2019-04-18T05:56:00.000Z\",\"5242.7\",\"5246.7\",\"5242.7\",\"5245.8\",\"44.67797079\"],[\"2019-04-18T05:57:00.000Z\",\"5245.6\",\"5246.3\",\"5242.8\",\"5243.1\",\"64.78293364\"],[\"2019-04-18T05:58:00.000Z\",\"5243.4\",\"5244.9\",\"5242.7\",\"5243.7\",\"44.16071794\"],[\"2019-04-18T05:59:00.000Z\",\"5243.7\",\"5245.7\",\"5243.7\",\"5245.3\",\"60.09749232\"],[\"2019-04-18T06:00:00.000Z\",\"5245.2\",\"5245.8\",\"5243.6\",\"5244.3\",\"49.50932972\"],[\"2019-04-18T06:01:00.000Z\",\"5244.7\",\"5247.7\",\"5243.9\",\"5246.9\",\"72.76585677\"],[\"2019-04-18T06:02:00.000Z\",\"5246.7\",\"5247\",\"5241.9\",\"5241.9\",\"64.66591565\"],[\"2019-04-18T06:03:00.000Z\",\"5243.3\",\"5243.3\",\"5241.1\",\"5242.2\",\"79.05638999\"],[\"2019-04-18T06:04:00.000Z\",\"5241.8\",\"5243.4\",\"5241.1\",\"5243.4\",\"52.04269603\"],[\"2019-04-18T06:05:00.000Z\",\"5243.6\",\"5244\",\"5242\",\"5242.5\",\"51.1422887\"],[\"2019-04-18T06:06:00.000Z\",\"5242.2\",\"5243.9\",\"5241.6\",\"5243.2\",\"22.92064161\"],[\"2019-04-18T06:07:00.000Z\",\"5243\",\"5243.8\",\"5241.7\",\"5241.7\",\"52.18617359\"],[\"2019-04-18T06:08:00.000Z\",\"5242.5\",\"5242.9\",\"5240.4\",\"5241.2\",\"59.4563997\"],[\"2019-04-18T06:09:00.000Z\",\"5241.1\",\"5241.3\",\"5239.5\",\"5240.3\",\"45.85667222\"],[\"2019-04-18T06:10:00.000Z\",\"5240.2\",\"5241\",\"5239.2\",\"5240.3\",\"69.32405827\"],[\"2019-04-18T06:11:00.000Z\",\"5240.2\",\"5240.6\",\"5238.8\",\"5239.2\",\"54.92987263\"],[\"2019-04-18T06:12:00.000Z\",\"5239.4\",\"5239.9\",\"5235.5\",\"5237.4\",\"103.45851098\"],[\"2019-04-18T06:13:00.000Z\",\"5237.3\",\"5237.7\",\"5233.5\",\"5233.5\",\"68.72217413\"],[\"2019-04-18T06:14:00.000Z\",\"5233.6\",\"5235.4\",\"5231.3\",\"5235.2\",\"80.97874312\"],[\"2019-04-18T06:15:00.000Z\",\"5234.9\",\"5237.8\",\"5234.1\",\"5237.2\",\"52.6982586\"],[\"2019-04-18T06:16:00.000Z\",\"5237.3\",\"5237.4\",\"5235.5\",\"5236.3\",\"33.92474856\"],[\"2019-04-18T06:17:00.000Z\",\"5236.3\",\"5237.1\",\"5235.2\",\"5235.9\",\"65.20652733\"],[\"2019-04-18T06:18:00.000Z\",\"5235.7\",\"5236.3\",\"5235.1\",\"5235.5\",\"45.86761995\"],[\"2019-04-18T06:19:00.000Z\",\"5236.2\",\"5238.4\",\"5235.4\",\"5238.2\",\"111.15748334\"],[\"2019-04-18T06:20:00.000Z\",\"5238\",\"5240\",\"5238\",\"5239.4\",\"27.00625819\"],[\"2019-04-18T06:21:00.000Z\",\"5239.4\",\"5240.1\",\"5238.3\",\"5239.4\",\"31.97888963\"],[\"2019-04-18T06:22:00.000Z\",\"5239.5\",\"5240.2\",\"5239.3\",\"5239.6\",\"26.56070973\"],[\"2019-04-18T06:23:00.000Z\",\"5240.1\",\"5241\",\"5239.5\",\"5240.8\",\"62.90351298\"],[\"2019-04-18T06:24:00.000Z\",\"5240.8\",\"5242.6\",\"5240.2\",\"5241.8\",\"63.55327454\"],[\"2019-04-18T06:25:00.000Z\",\"5242\",\"5242.2\",\"5240.6\",\"5240.6\",\"84.48804894\"],[\"2019-04-18T06:26:00.000Z\",\"5241\",\"5241.3\",\"5238.4\",\"5238.9\",\"45.17737509\"],[\"2019-04-18T06:27:00.000Z\",\"5238.9\",\"5239.7\",\"5238.6\",\"5239.3\",\"46.09249684\"],[\"2019-04-18T06:28:00.000Z\",\"5239.3\",\"5239.3\",\"5239\",\"5239.1\",\"63.09524597\"],[\"2019-04-18T06:29:00.000Z\",\"5239.1\",\"5239.4\",\"5238.9\",\"5239.2\",\"12.24795448\"],[\"2019-04-18T06:30:00.000Z\",\"5239.1\",\"5243.1\",\"5239.1\",\"5242.7\",\"39.19305264\"],[\"2019-04-18T06:31:00.000Z\",\"5242.5\",\"5250.1\",\"5242.2\",\"5246.7\",\"67.75823304\"],[\"2019-04-18T06:32:00.000Z\",\"5246.5\",\"5248.6\",\"5246.1\",\"5247.2\",\"51.51004173\"],[\"2019-04-18T06:33:00.000Z\",\"5246.9\",\"5247.8\",\"5243.8\",\"5246.4\",\"39.05791386\"],[\"2019-04-18T06:34:00.000Z\",\"5246.4\",\"5247.4\",\"5246.1\",\"5247.3\",\"97.11308557\"],[\"2019-04-18T06:35:00.000Z\",\"5247.4\",\"5247.7\",\"5246.7\",\"5247.1\",\"17.63935116\"],[\"2019-04-18T06:36:00.000Z\",\"5247.4\",\"5248.7\",\"5246.3\",\"5248.2\",\"44.03252439\"],[\"2019-04-18T06:37:00.000Z\",\"5248.3\",\"5250.3\",\"5248.3\",\"5249.8\",\"76.13709828\"],[\"2019-04-18T06:38:00.000Z\",\"5249.8\",\"5249.8\",\"5249.1\",\"5249.7\",\"12.81970875\"],[\"2019-04-18T06:39:00.000Z\",\"5249.5\",\"5249.8\",\"5248.9\",\"5249.8\",\"46.21160302\"],[\"2019-04-18T06:40:00.000Z\",\"5249.7\",\"5249.8\",\"5248.1\",\"5249.5\",\"25.35065352\"],[\"2019-04-18T06:41:00.000Z\",\"5249.4\",\"5250\",\"5247.3\",\"5248\",\"65.83185569\"],[\"2019-04-18T06:42:00.000Z\",\"5248.6\",\"5249.5\",\"5248\",\"5249\",\"87.84626146\"],[\"2019-04-18T06:43:00.000Z\",\"5249\",\"5249.4\",\"5248.4\",\"5249.3\",\"58.74867192\"],[\"2019-04-18T06:44:00.000Z\",\"5249.4\",\"5254.5\",\"5249.3\",\"5253.3\",\"76.55458296\"],[\"2019-04-18T06:45:00.000Z\",\"5253.3\",\"5255\",\"5251.1\",\"5251.1\",\"90.00571334\"],[\"2019-04-18T06:46:00.000Z\",\"5251.1\",\"5253.1\",\"5249.7\",\"5250.3\",\"30.99987738\"],[\"2019-04-18T06:47:00.000Z\",\"5250.1\",\"5251.1\",\"5249.3\",\"5250.2\",\"48.02017851\"],[\"2019-04-18T06:48:00.000Z\",\"5249.7\",\"5250.1\",\"5248.2\",\"5249.2\",\"40.55421875\"],[\"2019-04-18T06:49:00.000Z\",\"5249.6\",\"5250.5\",\"5248.7\",\"5249.7\",\"30.62608315\"],[\"2019-04-18T06:50:00.000Z\",\"5250.1\",\"5250.8\",\"5248.7\",\"5250.2\",\"80.64063435\"],[\"2019-04-18T06:51:00.000Z\",\"5251\",\"5252.7\",\"5250.2\",\"5251.7\",\"33.95173391\"],[\"2019-04-18T06:52:00.000Z\",\"5251\",\"5252\",\"5249.7\",\"5250.6\",\"90.06573664\"],[\"2019-04-18T06:53:00.000Z\",\"5250\",\"5250.9\",\"5249.6\",\"5250.9\",\"25.0648201\"],[\"2019-04-18T06:54:00.000Z\",\"5250.8\",\"5252.1\",\"5250.8\",\"5252.1\",\"30.13948464\"],[\"2019-04-18T06:55:00.000Z\",\"5252.2\",\"5253.9\",\"5251.3\",\"5252.7\",\"69.24912\"],[\"2019-04-18T06:56:00.000Z\",\"5253.5\",\"5254\",\"5251.9\",\"5252.7\",\"37.13824627\"],[\"2019-04-18T06:57:00.000Z\",\"5252.6\",\"5253.3\",\"5251.8\",\"5252.4\",\"52.33495832\"]]";



    public static void main(String[] args) {

        List<List<String>> list = getJsonList(json);
        List<BigDecimal> bigDecimals = new ArrayList<>();
        for (int i = 0; i < list.size(); i++) {
            bigDecimals.add(new BigDecimal(list.get(i).get(4).substring(1, list.get(i).get(4).length() - 1)));
        }

        System.out.println(bigDecimals.toString());

        for (int i =10;i<bigDecimals.size();i++){
            checkExchange(i,bigDecimals.get(i));
        }

        checkExchange(16,new BigDecimal(4000));

        System.out.println(bigDecimals.size());


    }

    public static List<List<String>> getJsonList(String json) {

        List<List<String>> lists = new ArrayList<>();
        try {
            JSONArray jsonArray = new JSONArray(json);

            //System.out.println(jsonArray.length());
            List<String> strings = new ArrayList<>();
            for (int i = 0; i < jsonArray.length(); i++) {
                JSONArray jsonArray1 = jsonArray.getJSONArray(i);

                //System.out.println(jsonArray1);
                strings = Arrays.asList(jsonArray1.toString().substring(1, jsonArray1.toString().length() - 1).split(","));
                //System.out.println(strings.toString());
                lists.add(strings);
            }

            //System.out.println(lists.get(0).get(4).substring(1,lists.get(0).get(4).length()-1));
        } catch (JSONException e) {
            e.printStackTrace();
        }
        return lists;
    }

    public static void checkExchange(int index,BigDecimal x){
        List<List<String>> list = getJsonList(json);
        List<BigDecimal> bigDecimals = new ArrayList<>();
        for (int i = 0; i < list.size(); i++) {
            bigDecimals.add(new BigDecimal(list.get(i).get(4).substring(1, list.get(i).get(4).length() - 1)));
        }

        List<BigDecimal> exchangeList = new ArrayList<>();
        for (int j = 1;j<=10;j++){
            int point = index-j;
            if (bigDecimals.get(point)!=null){
                exchangeList.add(bigDecimals.get(point));
            }
        }
        BigDecimal orderExchangeSum = new BigDecimal(0);
        if (exchangeList.size()<5){
            for (BigDecimal decimal : exchangeList){
                orderExchangeSum=orderExchangeSum.add(decimal);
            }
        }else {
            exchangeList.remove(exchangeList.size()-1);
            exchangeList.remove(exchangeList.size()-1);
            exchangeList.remove(0);
            exchangeList.remove(0);
            for (BigDecimal decimal : exchangeList){
                orderExchangeSum=orderExchangeSum.add(decimal);
            }
        }

        BigDecimal avgRate = orderExchangeSum.divide(new BigDecimal(exchangeList.size()),6,BigDecimal.ROUND_HALF_UP);

        BigDecimal val = x.subtract(avgRate).divide(avgRate,3,BigDecimal.ROUND_HALF_UP);
        if (val.compareTo(new BigDecimal(-0.2))==-1){
            System.out.println(val+":指数异常");
        }

    }
}
